{
    "openapi": "3.0.1",
    "info": {
        "title": "API Приема платежей",
        "version": "1.0"
    },
    "servers": [
        {
            "url": "https://enter.tochka.com/uapi/pay/",
            "description": "Боевой сервер Production"
        },
        {
            "url": "https://enter.tochka.com/sandbox/v2/pay/",
            "description": "Сервер песочницы"
        }
    ],
    "tags": [
        {
            "name": "Платежи",
            "description": "Методы для проведения платежей"
        },
        {
            "name": "Подтверждение",
            "description": "Методы для подтверждения"
        },
        {
            "name": "Возвраты",
            "description": "Методы для проведения возвратов"
        }
    ],
    "paths": {
        "/{apiVersion}/sites/{siteUid}/payments/{paymentUid}": {
            "get": {
                "tags": [
                    "Платежи"
                ],
                "summary": "Статус платежа",
                "description": "Получить информацию о платежной транзакции",
                "operationId": "getPayment",
                "parameters": [
                    {
                        "name": "siteUid",
                        "in": "path",
                        "required": true,
                        "$ref": "#/components/parameters/siteUid",
                        "schema": {
                            "pattern": "^[0-9a-zA-Z-_]{1,64}",
                            "type": "string"
                        }
                    },
                    {
                        "name": "paymentUid",
                        "in": "path",
                        "required": true,
                        "$ref": "#/components/parameters/paymentUid",
                        "schema": {
                            "pattern": "^[0-9a-zA-Z-]{1,64}$",
                            "type": "string"
                        }
                    },
                    {
                        "name": "apiVersion",
                        "in": "path",
                        "description": "Версия API",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "enum": [
                                "v1.0"
                            ]
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/PaymentResponseDTO"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "HTTPBadRequest",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponseDTO"
                                },
                                "example": {
                                    "code": "400",
                                    "id": "c397b21a-d998-4c4d-9471-e60eaf816b87",
                                    "message": "Что то пошло не так",
                                    "Errors": [
                                        {
                                            "errorCode": "HTTPBadRequest",
                                            "message": "Something going wrong",
                                            "url": "http://enter.tochka.com/open-banking/docs"
                                        }
                                    ]
                                }
                            }
                        }
                    }
                }
            },
            "put": {
                "tags": [
                    "Платежи"
                ],
                "summary": "Создание платежа",
                "description": "Создать платежную транзакцию",
                "operationId": "createPayment",
                "parameters": [
                    {
                        "name": "siteUid",
                        "in": "path",
                        "required": true,
                        "$ref": "#/components/parameters/siteUid",
                        "schema": {
                            "pattern": "^[0-9a-zA-Z-_]{1,64}",
                            "type": "string"
                        }
                    },
                    {
                        "name": "paymentUid",
                        "in": "path",
                        "required": true,
                        "$ref": "#/components/parameters/paymentUid",
                        "schema": {
                            "pattern": "^[0-9a-zA-Z-]{1,64}$",
                            "type": "string"
                        }
                    },
                    {
                        "name": "apiVersion",
                        "in": "path",
                        "description": "Версия API",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "enum": [
                                "v1.0"
                            ]
                        }
                    }
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/WrappedRequestDTOCreatePaymentRequestDTO"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "OK",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/PaymentResponseDTO"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "HTTPBadRequest",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponseDTO"
                                },
                                "example": {
                                    "code": "400",
                                    "id": "c397b21a-d998-4c4d-9471-e60eaf816b87",
                                    "message": "Что то пошло не так",
                                    "Errors": [
                                        {
                                            "errorCode": "HTTPBadRequest",
                                            "message": "Something going wrong",
                                            "url": "http://enter.tochka.com/open-banking/docs"
                                        }
                                    ]
                                }
                            }
                        }
                    }
                }
            }
        },
        "/{apiVersion}/sites/{siteUid}/payments/{paymentUid}/refunds/{refundUid}": {
            "get": {
                "tags": [
                    "Возвраты"
                ],
                "summary": "Статус возврата",
                "description": "Получить статус указанного возврата",
                "operationId": "getRefund",
                "parameters": [
                    {
                        "name": "siteUid",
                        "in": "path",
                        "required": true,
                        "$ref": "#/components/parameters/siteUid",
                        "schema": {
                            "pattern": "^[0-9a-zA-Z-_]{1,64}",
                            "type": "string"
                        }
                    },
                    {
                        "name": "paymentUid",
                        "in": "path",
                        "required": true,
                        "$ref": "#/components/parameters/paymentUid",
                        "schema": {
                            "pattern": "^[0-9a-zA-Z-]{1,64}$",
                            "type": "string"
                        }
                    },
                    {
                        "name": "refundUid",
                        "in": "path",
                        "required": true,
                        "$ref": "#/components/parameters/refundUid",
                        "schema": {
                            "pattern": "^[0-9a-zA-Z-]{1,64}$",
                            "type": "string"
                        }
                    },
                    {
                        "name": "apiVersion",
                        "in": "path",
                        "description": "Версия API",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "enum": [
                                "v1.0"
                            ]
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/RefundResponseDTO"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "HTTPBadRequest",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponseDTO"
                                },
                                "example": {
                                    "code": "400",
                                    "id": "c397b21a-d998-4c4d-9471-e60eaf816b87",
                                    "message": "Что то пошло не так",
                                    "Errors": [
                                        {
                                            "errorCode": "HTTPBadRequest",
                                            "message": "Something going wrong",
                                            "url": "http://enter.tochka.com/open-banking/docs"
                                        }
                                    ]
                                }
                            }
                        }
                    }
                }
            },
            "put": {
                "tags": [
                    "Возвраты"
                ],
                "summary": "Создание операции возврата",
                "description": "Запрос предназначен для возврата средств по завершенному платежу",
                "operationId": "createRefund",
                "parameters": [
                    {
                        "name": "siteUid",
                        "in": "path",
                        "required": true,
                        "$ref": "#/components/parameters/siteUid",
                        "schema": {
                            "pattern": "^[0-9a-zA-Z-_]{1,64}",
                            "type": "string"
                        }
                    },
                    {
                        "name": "paymentUid",
                        "in": "path",
                        "required": true,
                        "$ref": "#/components/parameters/paymentUid",
                        "schema": {
                            "pattern": "^[0-9a-zA-Z-]{1,64}$",
                            "type": "string"
                        }
                    },
                    {
                        "name": "refundUid",
                        "in": "path",
                        "required": true,
                        "$ref": "#/components/parameters/refundUid",
                        "schema": {
                            "pattern": "^[0-9a-zA-Z-]{1,64}$",
                            "type": "string"
                        }
                    },
                    {
                        "name": "apiVersion",
                        "in": "path",
                        "description": "Версия API",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "enum": [
                                "v1.0"
                            ]
                        }
                    }
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/WrappedRequestDTORefundRequestDTO"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "OK",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/RefundResponseDTO"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "HTTPBadRequest",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponseDTO"
                                },
                                "example": {
                                    "code": "400",
                                    "id": "c397b21a-d998-4c4d-9471-e60eaf816b87",
                                    "message": "Что то пошло не так",
                                    "Errors": [
                                        {
                                            "errorCode": "HTTPBadRequest",
                                            "message": "Something going wrong",
                                            "url": "http://enter.tochka.com/open-banking/docs"
                                        }
                                    ]
                                }
                            }
                        }
                    }
                }
            }
        },
        "/{apiVersion}/sites/{siteUid}/payments/{paymentUid}/captures/{captureUid}": {
            "get": {
                "tags": [
                    "Подтверждение"
                ],
                "summary": "Статус подтверждения",
                "description": "Получить статус указанного подтверждения платежа",
                "operationId": "getCapture",
                "parameters": [
                    {
                        "name": "siteUid",
                        "in": "path",
                        "required": true,
                        "$ref": "#/components/parameters/siteUid",
                        "schema": {
                            "pattern": "^[0-9a-zA-Z-_]{1,64}",
                            "type": "string"
                        }
                    },
                    {
                        "name": "paymentUid",
                        "in": "path",
                        "required": true,
                        "$ref": "#/components/parameters/paymentUid",
                        "schema": {
                            "pattern": "^[0-9a-zA-Z-]{1,64}$",
                            "type": "string"
                        }
                    },
                    {
                        "name": "captureUid",
                        "in": "path",
                        "required": true,
                        "$ref": "#/components/parameters/captureUid",
                        "schema": {
                            "pattern": "^[0-9a-zA-Z-]{1,64}$",
                            "type": "string"
                        }
                    },
                    {
                        "name": "apiVersion",
                        "in": "path",
                        "description": "Версия API",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "enum": [
                                "v1.0"
                            ]
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/CaptureResponseDTO"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "HTTPBadRequest",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponseDTO"
                                },
                                "example": {
                                    "code": "400",
                                    "id": "c397b21a-d998-4c4d-9471-e60eaf816b87",
                                    "message": "Что то пошло не так",
                                    "Errors": [
                                        {
                                            "errorCode": "HTTPBadRequest",
                                            "message": "Something going wrong",
                                            "url": "http://enter.tochka.com/open-banking/docs"
                                        }
                                    ]
                                }
                            }
                        }
                    }
                }
            },
            "put": {
                "tags": [
                    "Подтверждение"
                ],
                "summary": "Подтверждение платежа",
                "description": "Подтвердить платеж после холдирования средств. Данный запрос необходим для подтверждения операции при двустадийном сценарии проведения платежа. <strong>Возможно только однократное успешное подтверждение платежа.<strong>",
                "operationId": "createCapture",
                "parameters": [
                    {
                        "name": "siteUid",
                        "in": "path",
                        "required": true,
                        "$ref": "#/components/parameters/siteUid",
                        "schema": {
                            "pattern": "^[0-9a-zA-Z-_]{1,64}",
                            "type": "string"
                        }
                    },
                    {
                        "name": "paymentUid",
                        "in": "path",
                        "required": true,
                        "$ref": "#/components/parameters/paymentUid",
                        "schema": {
                            "pattern": "^[0-9a-zA-Z-]{1,64}$",
                            "type": "string"
                        }
                    },
                    {
                        "name": "captureUid",
                        "in": "path",
                        "required": true,
                        "$ref": "#/components/parameters/captureUid",
                        "schema": {
                            "pattern": "^[0-9a-zA-Z-]{1,64}$",
                            "type": "string"
                        }
                    },
                    {
                        "name": "apiVersion",
                        "in": "path",
                        "description": "Версия API",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "enum": [
                                "v1.0"
                            ]
                        }
                    }
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/WrappedRequestDTOCaptureRequestDTO"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "OK",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/CaptureResponseDTO"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "HTTPBadRequest",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponseDTO"
                                },
                                "example": {
                                    "code": "400",
                                    "id": "c397b21a-d998-4c4d-9471-e60eaf816b87",
                                    "message": "Что то пошло не так",
                                    "Errors": [
                                        {
                                            "errorCode": "HTTPBadRequest",
                                            "message": "Something going wrong",
                                            "url": "http://enter.tochka.com/open-banking/docs"
                                        }
                                    ]
                                }
                            }
                        }
                    }
                }
            }
        },
        "/{apiVersion}/sites/{siteUid}/payments": {
            "post": {
                "tags": [
                    "Платежи"
                ],
                "summary": "Создание платежа",
                "description": "Создать платежную транзакцию",
                "operationId": "createPayment_1",
                "parameters": [
                    {
                        "name": "siteUid",
                        "in": "path",
                        "required": true,
                        "$ref": "#/components/parameters/siteUid",
                        "schema": {
                            "pattern": "^[0-9a-zA-Z-_]{1,64}",
                            "type": "string"
                        }
                    },
                    {
                        "name": "apiVersion",
                        "in": "path",
                        "description": "Версия API",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "enum": [
                                "v1.0"
                            ]
                        }
                    }
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/WrappedRequestDTOCreatePaymentRequestDTO"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "OK",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/PaymentResponseDTO"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "HTTPBadRequest",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponseDTO"
                                },
                                "example": {
                                    "code": "400",
                                    "id": "c397b21a-d998-4c4d-9471-e60eaf816b87",
                                    "message": "Что то пошло не так",
                                    "Errors": [
                                        {
                                            "errorCode": "HTTPBadRequest",
                                            "message": "Something going wrong",
                                            "url": "http://enter.tochka.com/open-banking/docs"
                                        }
                                    ]
                                }
                            }
                        }
                    }
                }
            }
        },
        "/{apiVersion}/sites/{siteUid}/payments/{paymentUid}/refunds": {
            "get": {
                "tags": [
                    "Возвраты"
                ],
                "summary": "Статус возвратов",
                "description": "Получить статусы всех возвратов для данного платежа",
                "operationId": "getRefunds",
                "parameters": [
                    {
                        "name": "siteUid",
                        "in": "path",
                        "required": true,
                        "$ref": "#/components/parameters/siteUid",
                        "schema": {
                            "pattern": "^[0-9a-zA-Z-_]{1,64}",
                            "type": "string"
                        }
                    },
                    {
                        "name": "paymentUid",
                        "in": "path",
                        "required": true,
                        "$ref": "#/components/parameters/paymentUid",
                        "schema": {
                            "pattern": "^[0-9a-zA-Z-]{1,64}$",
                            "type": "string"
                        }
                    },
                    {
                        "name": "apiVersion",
                        "in": "path",
                        "description": "Версия API",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "enum": [
                                "v1.0"
                            ]
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/RefundResponseListDTO"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "HTTPBadRequest",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponseDTO"
                                },
                                "example": {
                                    "code": "400",
                                    "id": "c397b21a-d998-4c4d-9471-e60eaf816b87",
                                    "message": "Что то пошло не так",
                                    "Errors": [
                                        {
                                            "errorCode": "HTTPBadRequest",
                                            "message": "Something going wrong",
                                            "url": "http://enter.tochka.com/open-banking/docs"
                                        }
                                    ]
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "tags": [
                    "Возвраты"
                ],
                "summary": "Создание операции возврата",
                "description": "Запрос предназначен для возврата средств по завершенному платежу",
                "operationId": "createRefund_1",
                "parameters": [
                    {
                        "name": "siteUid",
                        "in": "path",
                        "required": true,
                        "$ref": "#/components/parameters/siteUid",
                        "schema": {
                            "pattern": "^[0-9a-zA-Z-_]{1,64}",
                            "type": "string"
                        }
                    },
                    {
                        "name": "paymentUid",
                        "in": "path",
                        "required": true,
                        "$ref": "#/components/parameters/paymentUid",
                        "schema": {
                            "pattern": "^[0-9a-zA-Z-]{1,64}$",
                            "type": "string"
                        }
                    },
                    {
                        "name": "apiVersion",
                        "in": "path",
                        "description": "Версия API",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "enum": [
                                "v1.0"
                            ]
                        }
                    }
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/WrappedRequestDTORefundRequestDTO"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "OK",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/RefundResponseDTO"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "HTTPBadRequest",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponseDTO"
                                },
                                "example": {
                                    "code": "400",
                                    "id": "c397b21a-d998-4c4d-9471-e60eaf816b87",
                                    "message": "Что то пошло не так",
                                    "Errors": [
                                        {
                                            "errorCode": "HTTPBadRequest",
                                            "message": "Something going wrong",
                                            "url": "http://enter.tochka.com/open-banking/docs"
                                        }
                                    ]
                                }
                            }
                        }
                    }
                }
            }
        },
        "/{apiVersion}/sites/{siteUid}/payments/{paymentUid}/complete": {
            "post": {
                "tags": [
                    "Завершение аутентификации"
                ],
                "summary": "Завершение аутентификации",
                "description": "После успешного прохождения дополнительной аутентификации, ТСП необходимо отправить запрос с параметрами соответствующими типу дополнительной аутентификации для завершения проверки",
                "operationId": "completePayment",
                "parameters": [
                    {
                        "name": "siteUid",
                        "in": "path",
                        "required": true,
                        "$ref": "#/components/parameters/siteUid",
                        "schema": {
                            "pattern": "^[0-9a-zA-Z-_]{1,64}",
                            "type": "string"
                        }
                    },
                    {
                        "name": "paymentUid",
                        "in": "path",
                        "required": true,
                        "$ref": "#/components/parameters/paymentUid",
                        "schema": {
                            "pattern": "^[0-9a-zA-Z-]{1,64}$",
                            "type": "string"
                        }
                    },
                    {
                        "name": "apiVersion",
                        "in": "path",
                        "description": "Версия API",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "enum": [
                                "v1.0"
                            ]
                        }
                    }
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/WrappedRequestDTOCompleteRequestDTO"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "OK",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/PaymentResponseDTO"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "HTTPBadRequest",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponseDTO"
                                },
                                "example": {
                                    "code": "400",
                                    "id": "c397b21a-d998-4c4d-9471-e60eaf816b87",
                                    "message": "Что то пошло не так",
                                    "Errors": [
                                        {
                                            "errorCode": "HTTPBadRequest",
                                            "message": "Something going wrong",
                                            "url": "http://enter.tochka.com/open-banking/docs"
                                        }
                                    ]
                                }
                            }
                        }
                    }
                }
            }
        },
        "/{apiVersion}/sites/{siteUid}/payments/{paymentUid}/captures": {
            "get": {
                "tags": [
                    "Подтверждение"
                ],
                "summary": "Список подтверждений платежа",
                "description": "Получить список попыток подтверждения платежа",
                "operationId": "getCaptures",
                "parameters": [
                    {
                        "name": "siteUid",
                        "in": "path",
                        "required": true,
                        "$ref": "#/components/parameters/siteUid",
                        "schema": {
                            "pattern": "^[0-9a-zA-Z-_]{1,64}",
                            "type": "string"
                        }
                    },
                    {
                        "name": "paymentUid",
                        "in": "path",
                        "required": true,
                        "$ref": "#/components/parameters/paymentUid",
                        "schema": {
                            "pattern": "^[0-9a-zA-Z-]{1,64}$",
                            "type": "string"
                        }
                    },
                    {
                        "name": "apiVersion",
                        "in": "path",
                        "description": "Версия API",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "enum": [
                                "v1.0"
                            ]
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/CaptureResponseListDTO"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "HTTPBadRequest",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponseDTO"
                                },
                                "example": {
                                    "code": "400",
                                    "id": "c397b21a-d998-4c4d-9471-e60eaf816b87",
                                    "message": "Что то пошло не так",
                                    "Errors": [
                                        {
                                            "errorCode": "HTTPBadRequest",
                                            "message": "Something going wrong",
                                            "url": "http://enter.tochka.com/open-banking/docs"
                                        }
                                    ]
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "tags": [
                    "Подтверждение"
                ],
                "summary": "Подтверждение платежа",
                "description": "Подтвердить платеж после холдирования средств. Данный запрос необходим для подтверждения операции при двустадийном сценарии проведения платежа. <strong>Возможно только однократное успешное подтверждение платежа.<strong>",
                "operationId": "createCapture_1",
                "parameters": [
                    {
                        "name": "siteUid",
                        "in": "path",
                        "required": true,
                        "$ref": "#/components/parameters/siteUid",
                        "schema": {
                            "pattern": "^[0-9a-zA-Z-_]{1,64}",
                            "type": "string"
                        }
                    },
                    {
                        "name": "paymentUid",
                        "in": "path",
                        "required": true,
                        "$ref": "#/components/parameters/paymentUid",
                        "schema": {
                            "pattern": "^[0-9a-zA-Z-]{1,64}$",
                            "type": "string"
                        }
                    },
                    {
                        "name": "apiVersion",
                        "in": "path",
                        "description": "Версия API",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "enum": [
                                "v1.0"
                            ]
                        }
                    }
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/WrappedRequestDTOCaptureRequestDTO"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "OK",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/CaptureResponseDTO"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "HTTPBadRequest",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponseDTO"
                                },
                                "example": {
                                    "code": "400",
                                    "id": "c397b21a-d998-4c4d-9471-e60eaf816b87",
                                    "message": "Что то пошло не так",
                                    "Errors": [
                                        {
                                            "errorCode": "HTTPBadRequest",
                                            "message": "Something going wrong",
                                            "url": "http://enter.tochka.com/open-banking/docs"
                                        }
                                    ]
                                }
                            }
                        }
                    }
                }
            }
        }
    },
    "components": {
        "schemas": {
            "PaymentAmount": {
                "required": [
                    "currency",
                    "value"
                ],
                "type": "object",
                "properties": {
                    "currency": {
                        "type": "string",
                        "description": "Валюта в формате ISO4217",
                        "example": "RUB"
                    },
                    "value": {
                        "type": "number",
                        "description": "Сумма операции",
                        "example": 100.0
                    }
                },
                "description": "Информация о сумме операции"
            },
            "CapturedAmount": {
                "required": [
                    "currency",
                    "value"
                ],
                "type": "object",
                "properties": {
                    "currency": {
                        "type": "string",
                        "description": "Валюта в формате ISO4217",
                        "example": "RUB"
                    },
                    "value": {
                        "type": "number",
                        "description": "Сумма операции",
                        "example": 100.0
                    }
                },
                "description": "Информация о сумме подтверждений"
            },
            "RefundedAmount": {
                "required": [
                    "currency",
                    "value"
                ],
                "type": "object",
                "properties": {
                    "currency": {
                        "type": "string",
                        "description": "Валюта в формате ISO4217",
                        "example": "RUB"
                    },
                    "value": {
                        "type": "number",
                        "description": "Сумма операции",
                        "example": 100.0
                    }
                },
                "description": "Информация о сумме возвратов"
            },
            "AddressDTO": {
                "type": "object",
                "properties": {
                    "country": {
                        "maxLength": 64,
                        "minLength": 1,
                        "type": "string",
                        "description": "Страна адреса покупателя",
                        "example": "Russia"
                    },
                    "region": {
                        "maxLength": 64,
                        "minLength": 1,
                        "type": "string",
                        "description": "Регион адреса покупателя",
                        "example": "Moscow"
                    },
                    "city": {
                        "maxLength": 64,
                        "minLength": 1,
                        "type": "string",
                        "description": "Город адреса покупателя",
                        "example": "Moscow city"
                    },
                    "details": {
                        "maxLength": 256,
                        "minLength": 1,
                        "type": "string",
                        "description": "Детали адреса покупателя",
                        "example": "Verhnyaya Radishchevskaya ulica, dom 2/1"
                    }
                },
                "description": "Адрес покупателя"
            },
            "CardPaymentMethod": {
                "required": [
                    "expirationDate",
                    "pan",
                    "type"
                ],
                "type": "object",
                "allOf": [
                    {
                        "$ref": "#/components/schemas/PaymentMethodDTO"
                    },
                    {
                        "type": "object",
                        "properties": {
                            "pan": {
                                "pattern": "^\\d{13,19}$",
                                "type": "string",
                                "description": "Номер банковской карты",
                                "example": "22279992308606"
                            },
                            "expirationDate": {
                                "pattern": "(?:0?[1-9]|1[0-2])/[0-9]{2}",
                                "type": "string",
                                "description": "Срок действия банковской карты"
                            },
                            "cvv2": {
                                "pattern": "^\\d{3}$",
                                "type": "string",
                                "description": "CVV2/CVC2 на банковской карте",
                                "example": "12/28"
                            },
                            "holderName": {
                                "pattern": "^[0-9a-zA-Z-/ _.']{1,26}$",
                                "type": "string",
                                "description": "Имя клиента, указанное на банковской карте",
                                "example": "CARD HOLDER"
                            },
                            "type": {
                                "type": "string",
                                "enum": [
                                    "CARD"
                                ]
                            }
                        }
                    }
                ]
            },
            "CreatePaymentRequestDTO": {
                "required": [
                    "amount",
                    "captureMode",
                    "extras",
                    "paymentMethod"
                ],
                "type": "object",
                "properties": {
                    "paymentUid": {
                        "pattern": "^[0-9a-zA-Z-]{1,64}$",
                        "type": "string",
                        "description": "Уникальный идентификатор платежа в информационной системе ТСП",
                        "example": "977639EE70494C67"
                    },
                    "orderUid": {
                        "pattern": "^[0-9a-zA-Z-]{1,64}$",
                        "type": "string",
                        "description": "Уникальный идентификатор заказа в информационной системе ТСП",
                        "example": "12EKN0170494C67"
                    },
                    "amount": {
                        "$ref": "#/components/schemas/PaymentAmount"
                    },
                    "paymentMethod": {
                        "oneOf": [
                            {
                                "$ref": "#/components/schemas/CardPaymentMethod"
                            }
                        ]
                    },
                    "customer": {
                        "$ref": "#/components/schemas/CustomerDTO"
                    },
                    "callbackUrl": {
                        "maxLength": 2083,
                        "minLength": 1,
                        "pattern": "^https?://[-a-zA-Z0-9¡-￿+&@#/%?=~_|!:,.;]*[-a-zA-Z0-9¡-￿+&@#/%=~_|]",
                        "type": "string",
                        "description": "URL отправки уведомления об операции",
                        "example": "https://test.tochkapay.com/notification"
                    },
                    "successUrl": {
                        "maxLength": 2083,
                        "minLength": 1,
                        "pattern": "^https?://[-a-zA-Z0-9¡-￿+&@#/%?=~_|!:,.;]*[-a-zA-Z0-9¡-￿+&@#/%=~_|]",
                        "type": "string",
                        "description": "URL для перенаправления при успешной операции",
                        "example": "https://test.tochkapay.com/success"
                    },
                    "declineUrl": {
                        "maxLength": 2083,
                        "minLength": 1,
                        "pattern": "^https?://[-a-zA-Z0-9¡-￿+&@#/%?=~_|!:,.;]*[-a-zA-Z0-9¡-￿+&@#/%=~_|]",
                        "type": "string",
                        "description": "URL для перенаправления при отклоненной операции",
                        "example": "https://test.tochkapay.com/decline"
                    },
                    "comment": {
                        "maxLength": 255,
                        "minLength": 1,
                        "type": "string",
                        "description": "Комментарий"
                    },
                    "extras": {
                        "type": "object",
                        "additionalProperties": {
                            "type": "string",
                            "description": "Дополнительные поля с произвольной информацией"
                        },
                        "description": "Дополнительные поля с произвольной информацией"
                    },
                    "receiverData": {
                        "$ref": "#/components/schemas/ReceiverDataDTO"
                    },
                    "captureMode": {
                        "type": "string",
                        "description": "Признак двухстадийного сценария \n- `AUTO` — подтверждение платежа производится автоматически;  \n- `MANUAL` — требуется подтверждение платежа последующим запросом.",
                        "enum": [
                            "AUTO",
                            "MANUAL"
                        ]
                    }
                }
            },
            "CustomerDTO": {
                "type": "object",
                "properties": {
                    "account": {
                        "maxLength": 64,
                        "minLength": 1,
                        "type": "string",
                        "description": "Идентификатор пользователя",
                        "example": "E268443E43D93DAB7EBEF303BBE9642F"
                    },
                    "email": {
                        "maxLength": 64,
                        "minLength": 1,
                        "pattern": "^[^@\\s]+@[^@\\s]+$",
                        "type": "string",
                        "description": "E-mail пользователя",
                        "example": "pay@tochka.com"
                    },
                    "phone": {
                        "pattern": "^\\+?\\d{11,16}$",
                        "type": "string",
                        "description": "Номер телефона пользователя",
                        "example": "79123456789"
                    },
                    "firstName": {
                        "maxLength": 64,
                        "minLength": 1,
                        "type": "string",
                        "description": "Имя покупателя",
                        "example": "Ivan"
                    },
                    "middleName": {
                        "maxLength": 64,
                        "minLength": 1,
                        "type": "string",
                        "description": "Отчество покупателя",
                        "example": "Ivanovich"
                    },
                    "lastName": {
                        "maxLength": 64,
                        "minLength": 1,
                        "type": "string",
                        "description": "Фамилия покупателя",
                        "example": "Ivanov"
                    },
                    "simpleAddress": {
                        "maxLength": 256,
                        "minLength": 1,
                        "type": "string",
                        "description": "Адрес покупателя",
                        "example": "Verhnyaya Radishchevskaya ulica, dom 2/1"
                    },
                    "address": {
                        "$ref": "#/components/schemas/AddressDTO"
                    }
                }
            },
            "MoneyDTO": {
                "$ref": "#/components/schemas/PaymentAmount"
            },
            "PaymentMethodDTO": {
                "required": [
                    "type"
                ],
                "type": "object",
                "properties": {
                    "type": {
                        "type": "string",
                        "description": "Тип платежного метода",
                        "enum": [
                            "CARD"
                        ]
                    }
                },
                "description": "Метод платежа"
            },
            "ReceiverDataDTO": {
                "type": "object",
                "properties": {
                    "pan": {
                        "pattern": "^\\d{13,19}$",
                        "type": "string",
                        "description": "Номер карты получателя",
                        "example": "22279992308606"
                    },
                    "wallet": {
                        "maxLength": 64,
                        "minLength": 1,
                        "type": "string",
                        "description": "Номер кошелька получателя платежа"
                    },
                    "inn": {
                        "pattern": "^(\\d{10}|\\d{12})$",
                        "type": "string",
                        "description": "ИНН организации-эмитента",
                        "example": "775598987121"
                    },
                    "phone": {
                        "pattern": "^\\+?\\d{11,16}$",
                        "type": "string",
                        "description": "Номер телефона получателя платежа",
                        "example": "79123456789"
                    },
                    "bic": {
                        "pattern": "^\\d{8,11}$",
                        "type": "string",
                        "description": "БИК кредитной организации получателя платежа",
                        "example": "044525104"
                    },
                    "bankAccount": {
                        "pattern": "^\\d{20}$",
                        "type": "string",
                        "description": "Номер счета получателя платежа",
                        "example": "044525104"
                    }
                }
            },
            "WrappedRequestDTOCreatePaymentRequestDTO": {
                "required": [
                    "Data"
                ],
                "type": "object",
                "properties": {
                    "Data": {
                        "$ref": "#/components/schemas/CreatePaymentRequestDTO"
                    }
                }
            },
            "CardPaymentMethodResult": {
                "required": [
                    "maskedPan",
                    "type"
                ],
                "type": "object",
                "description": "CARD",
                "allOf": [
                    {
                        "$ref": "#/components/schemas/PaymentMethodResultDTO"
                    },
                    {
                        "type": "object",
                        "properties": {
                            "maskedPan": {
                                "pattern": "^\\d{4,8}\\*{1,11}\\d{2}$",
                                "type": "string",
                                "description": "Маскированный номер карты",
                                "example": "41111111******11"
                            },
                            "expirationDate": {
                                "pattern": "(?:0?[1-9]|1[0-2])/[0-9]{2}",
                                "type": "string",
                                "description": "Срок действия банковской карты"
                            },
                            "holderName": {
                                "pattern": "^[0-9a-zA-Z-/ _.']{1,26}$",
                                "type": "string",
                                "description": "Имя клиента, указанное на банковской карте",
                                "example": "CARD HOLDER"
                            },
                            "rrn": {
                                "maxLength": 12,
                                "minLength": 12,
                                "type": "string",
                                "description": "RRN платежа",
                                "example": "003235873473"
                            },
                            "authCode": {
                                "pattern": "^\\d{6}$",
                                "type": "string",
                                "description": "Auth-code платежа",
                                "example": "347328"
                            },
                            "createdToken": {
                                "$ref": "#/components/schemas/CreatedTokenDTO"
                            },
                            "type": {
                                "type": "string",
                                "enum": [
                                    "CARD"
                                ]
                            }
                        }
                    }
                ]
            },
            "Completed": {
                "required": [
                    "changedDateTime",
                    "value"
                ],
                "type": "object",
                "allOf": [
                    {
                        "$ref": "#/components/schemas/ResponseStatusDTO"
                    },
                    {
                        "type": "object",
                        "properties": {
                            "changedDateTime": {
                                "type": "string",
                                "format": "date-time"
                            },
                            "value": {
                                "type": "string",
                                "enum": [
                                    "WAITING",
                                    "DECLINED",
                                    "COMPLETED"
                                ]
                            }
                        }
                    }
                ]
            },
            "CreatedTokenDTO": {
                "required": [
                    "expirationDate",
                    "token"
                ],
                "type": "object",
                "properties": {
                    "token": {
                        "pattern": "^[0-9a-zA-Z-]{1,64}$",
                        "type": "string",
                        "description": "Строка платежного токена"
                    },
                    "expirationDate": {
                        "type": "string",
                        "description": "Дата окончания срока действия платежного токена",
                        "format": "date-time"
                    },
                    "name": {
                        "maxLength": 64,
                        "minLength": 1,
                        "type": "string",
                        "description": "Маскированный номер карты, для которой выпущен токен",
                        "example": "41111111******11"
                    },
                    "account": {
                        "maxLength": 64,
                        "minLength": 1,
                        "type": "string",
                        "description": "Идентификатор Покупателя",
                        "example": "token1631"
                    }
                },
                "description": "Объект данных платежного токена"
            },
            "Declined": {
                "required": [
                    "changedDateTime",
                    "reason",
                    "reasonMessage",
                    "value"
                ],
                "type": "object",
                "allOf": [
                    {
                        "$ref": "#/components/schemas/ResponseStatusDTO"
                    },
                    {
                        "type": "object",
                        "properties": {
                            "changedDateTime": {
                                "type": "string",
                                "format": "date-time"
                            },
                            "reason": {
                                "maxLength": 100,
                                "minLength": 1,
                                "type": "string"
                            },
                            "reasonMessage": {
                                "maxLength": 500,
                                "minLength": 1,
                                "type": "string"
                            },
                            "psErrorCode": {
                                "maxLength": 5,
                                "minLength": 0,
                                "type": "string"
                            },
                            "value": {
                                "type": "string",
                                "enum": [
                                    "WAITING",
                                    "DECLINED",
                                    "COMPLETED"
                                ]
                            }
                        }
                    }
                ]
            },
            "PaymentMethodResultDTO": {
                "required": [
                    "type"
                ],
                "type": "object",
                "properties": {
                    "type": {
                        "type": "string",
                        "description": "Тип платежного метода",
                        "enum": [
                            "CARD"
                        ]
                    }
                },
                "description": "Метод платежа"
            },
            "PaymentResponseDTO": {
                "type": "object",
                "properties": {
                    "Data": {
                        "required": [
                            "amount",
                            "capturedAmount",
                            "createdDateTime",
                            "isTest",
                            "paymentMethod",
                            "paymentUid",
                            "refundedAmount",
                            "status"
                        ],
                        "type": "object",
                        "properties": {
                            "paymentUid": {
                                "pattern": "^[0-9a-zA-Z-]{1,64}$",
                                "type": "string",
                                "description": "Уникальный идентификатор платежа в информационной системе ТСП",
                                "example": "977639EE70494C67"
                            },
                            "createdDateTime": {
                                "type": "string",
                                "description": "Дата создания платежа",
                                "format": "date-time"
                            },
                            "orderUid": {
                                "pattern": "^[0-9a-zA-Z-]{1,64}$",
                                "type": "string",
                                "description": "Уникальный идентификатор заказа в информационной системе ТСП",
                                "example": "12EKN0170494C67"
                            },
                            "amount": {
                                "$ref": "#/components/schemas/PaymentAmount"
                            },
                            "capturedAmount": {
                                "$ref": "#/components/schemas/CapturedAmount"
                            },
                            "refundedAmount": {
                                "$ref": "#/components/schemas/RefundedAmount"
                            },
                            "paymentMethod": {
                                "oneOf": [
                                    {
                                        "$ref": "#/components/schemas/CardPaymentMethodResult"
                                    }
                                ]
                            },
                            "status": {
                                "oneOf": [
                                    {
                                        "$ref": "#/components/schemas/Completed"
                                    },
                                    {
                                        "$ref": "#/components/schemas/Declined"
                                    },
                                    {
                                        "$ref": "#/components/schemas/Waiting"
                                    }
                                ]
                            },
                            "customer": {
                                "$ref": "#/components/schemas/CustomerDTO"
                            },
                            "requirements": {
                                "$ref": "#/components/schemas/RequirementsDTO"
                            },
                            "callbackUrl": {
                                "maxLength": 2083,
                                "minLength": 1,
                                "pattern": "^https?://[-a-zA-Z0-9¡-￿+&@#/%?=~_|!:,.;]*[-a-zA-Z0-9¡-￿+&@#/%=~_|]",
                                "type": "string",
                                "description": "URL отправки уведомления об операции",
                                "example": "https://test.tochkapay.com/notification"
                            },
                            "successUrl": {
                                "maxLength": 2083,
                                "minLength": 1,
                                "pattern": "^https?://[-a-zA-Z0-9¡-￿+&@#/%?=~_|!:,.;]*[-a-zA-Z0-9¡-￿+&@#/%=~_|]",
                                "type": "string",
                                "description": "URL для перенаправления при успешной операции",
                                "example": "https://test.tochkapay.com/success"
                            },
                            "declineUrl": {
                                "maxLength": 2083,
                                "minLength": 1,
                                "pattern": "^https?://[-a-zA-Z0-9¡-￿+&@#/%?=~_|!:,.;]*[-a-zA-Z0-9¡-￿+&@#/%=~_|]",
                                "type": "string",
                                "description": "URL для перенаправления при отклоненной операции",
                                "example": "https://test.tochkapay.com/decline"
                            },
                            "comment": {
                                "maxLength": 255,
                                "minLength": 1,
                                "type": "string",
                                "description": "Комментарий"
                            },
                            "extras": {
                                "type": "object",
                                "additionalProperties": {
                                    "type": "string",
                                    "description": "Дополнительные поля с произвольной информацией"
                                },
                                "description": "Дополнительные поля с произвольной информацией"
                            },
                            "receiverData": {
                                "$ref": "#/components/schemas/ReceiverDataDTO"
                            },
                            "captureMode": {
                                "type": "string",
                                "description": "Признак двухстадийного сценария\n - <code>AUTO</code> - подтверждение платежа производится автоматически\n- <code>MANUAL</code> - требуется подтверждение платежа последующим запросом",
                                "enum": [
                                    "AUTO",
                                    "MANUAL"
                                ]
                            },
                            "isTest": {
                                "type": "boolean",
                                "description": "Флаг тестовой операции"
                            }
                        }
                    },
                    "Links": {
                        "required": [
                            "self"
                        ],
                        "type": "object",
                        "properties": {
                            "self": {
                                "maxLength": 2083,
                                "minLength": 1,
                                "pattern": "^https?://[-a-zA-Z0-9¡-￿+&@#/%?=~_|!:,.;]*[-a-zA-Z0-9¡-￿+&@#/%=~_|]",
                                "type": "string",
                                "example": "https://enter.tochka.com/uapi/pay"
                            }
                        },
                        "description": "Links"
                    },
                    "Meta": {
                        "required": [
                            "totalPages"
                        ],
                        "type": "object",
                        "properties": {
                            "totalPages": {
                                "type": "integer",
                                "format": "int32"
                            }
                        }
                    }
                }
            },
            "RequirementsDTO": {
                "required": [
                    "threeDS"
                ],
                "type": "object",
                "properties": {
                    "threeDS": {
                        "$ref": "#/components/schemas/ThreeDSRequirementsDTO"
                    }
                },
                "description": "Требования для дополнительной аутентификации клиента"
            },
            "ResponseStatusDTO": {
                "required": [
                    "changedDateTime",
                    "value"
                ],
                "type": "object",
                "properties": {
                    "value": {
                        "type": "string",
                        "description": "Значение статуса операции",
                        "enum": [
                            "WAITING",
                            "DECLINED",
                            "COMPLETED"
                        ]
                    },
                    "changedDateTime": {
                        "type": "string",
                        "description": "Дата обновления платежа",
                        "format": "date-time"
                    }
                },
                "description": "Статус операции"
            },
            "ThreeDSRequirementsDTO": {
                "required": [
                    "acsUrl",
                    "paReq"
                ],
                "type": "object",
                "properties": {
                    "paReq": {
                        "maxLength": 16384,
                        "minLength": 1,
                        "type": "string",
                        "description": "Сообщение для передачи в ACS банка-эмитента через браузер клиента",
                        "example": "BC58+5698AE46DE4=="
                    },
                    "acsUrl": {
                        "maxLength": 2083,
                        "minLength": 1,
                        "pattern": "^https?://[-a-zA-Z0-9¡-￿+&@#/%?=~_|!:,.;]*[-a-zA-Z0-9¡-￿+&@#/%=~_|]",
                        "type": "string",
                        "description": "URL ACS сервера банка-эмитента для перенаправления клиента",
                        "example": "https://example.tochkapayment.ru/acs/"
                    }
                },
                "description": "Данные для аутентификации банковских карт по протоколам 3DS и 3DS 2.0"
            },
            "Waiting": {
                "required": [
                    "changedDateTime",
                    "value"
                ],
                "type": "object",
                "allOf": [
                    {
                        "$ref": "#/components/schemas/ResponseStatusDTO"
                    },
                    {
                        "type": "object",
                        "properties": {
                            "changedDateTime": {
                                "type": "string",
                                "format": "date-time"
                            },
                            "value": {
                                "type": "string",
                                "enum": [
                                    "WAITING",
                                    "DECLINED",
                                    "COMPLETED"
                                ]
                            }
                        }
                    }
                ]
            },
            "RefundRequestDTO": {
                "type": "object",
                "properties": {
                    "refundUid": {
                        "pattern": "^[0-9a-zA-Z-]{1,64}$",
                        "type": "string",
                        "description": "Уникальный идентификатор возврата в информационной системе ТСП"
                    },
                    "amount": {
                        "$ref": "#/components/schemas/MoneyDTO"
                    },
                    "callbackUrl": {
                        "maxLength": 2083,
                        "minLength": 1,
                        "pattern": "^https?://[-a-zA-Z0-9¡-￿+&@#/%?=~_|!:,.;]*[-a-zA-Z0-9¡-￿+&@#/%=~_|]",
                        "type": "string",
                        "description": "URL отправки уведомления об операции",
                        "example": "https://test.tochkapay.com/notification"
                    },
                    "comment": {
                        "maxLength": 255,
                        "minLength": 1,
                        "type": "string",
                        "description": "Дополнительное описание возврата",
                        "example": "Возврат за услугу"
                    }
                }
            },
            "WrappedRequestDTORefundRequestDTO": {
                "required": [
                    "Data"
                ],
                "type": "object",
                "properties": {
                    "Data": {
                        "$ref": "#/components/schemas/RefundRequestDTO"
                    }
                }
            },
            "CardRefundMethodResultDTO": {
                "required": [
                    "type"
                ],
                "type": "object",
                "allOf": [
                    {
                        "$ref": "#/components/schemas/RefundMethodResultDTO"
                    },
                    {
                        "type": "object",
                        "properties": {
                            "rrn": {
                                "maxLength": 12,
                                "minLength": 12,
                                "type": "string",
                                "description": "RRN операции",
                                "example": "003235873473"
                            },
                            "authCode": {
                                "pattern": "^\\d{6}$",
                                "type": "string",
                                "description": "Auth-code операции",
                                "example": "347328"
                            }
                        }
                    }
                ]
            },
            "RefundMethodResultDTO": {
                "required": [
                    "type"
                ],
                "type": "object",
                "properties": {
                    "type": {
                        "type": "string",
                        "enum": [
                            "CARD"
                        ]
                    }
                },
                "description": "Дополнительные данные возврата"
            },
            "RefundResponseDTO": {
                "type": "object",
                "properties": {
                    "Data": {
                        "required": [
                            "amount",
                            "createdDateTime",
                            "isReversal",
                            "refundUid",
                            "status"
                        ],
                        "type": "object",
                        "properties": {
                            "refundUid": {
                                "pattern": "^[0-9a-zA-Z-]{1,64}$",
                                "type": "string",
                                "description": "Уникальный идентификатор возврата в информационной системе ТСП",
                                "example": "8H7GSEE7018GC67"
                            },
                            "createdDateTime": {
                                "type": "string",
                                "description": "Дата создания операции в формате ISO8601",
                                "format": "date-time"
                            },
                            "amount": {
                                "$ref": "#/components/schemas/MoneyDTO"
                            },
                            "status": {
                                "oneOf": [
                                    {
                                        "$ref": "#/components/schemas/Completed"
                                    },
                                    {
                                        "$ref": "#/components/schemas/Declined"
                                    },
                                    {
                                        "$ref": "#/components/schemas/Waiting"
                                    }
                                ]
                            },
                            "callbackUrl": {
                                "maxLength": 2083,
                                "minLength": 1,
                                "pattern": "^https?://[-a-zA-Z0-9¡-￿+&@#/%?=~_|!:,.;]*[-a-zA-Z0-9¡-￿+&@#/%=~_|]",
                                "type": "string",
                                "description": "URL отправки уведомления об операции",
                                "example": "https://test.tochkapay.com/notification"
                            },
                            "comment": {
                                "maxLength": 255,
                                "minLength": 1,
                                "type": "string",
                                "description": "Дополнительное описание возврата",
                                "example": "Возврат за услугу"
                            },
                            "refundMethodResult": {
                                "oneOf": [
                                    {
                                        "$ref": "#/components/schemas/CardRefundMethodResultDTO"
                                    }
                                ]
                            },
                            "isReversal": {
                                "type": "boolean",
                                "description": "Признак использования операции отмены"
                            }
                        }
                    },
                    "Links": {
                        "required": [
                            "self"
                        ],
                        "type": "object",
                        "properties": {
                            "self": {
                                "maxLength": 2083,
                                "minLength": 1,
                                "pattern": "^https?://[-a-zA-Z0-9¡-￿+&@#/%?=~_|!:,.;]*[-a-zA-Z0-9¡-￿+&@#/%=~_|]",
                                "type": "string",
                                "example": "https://enter.tochka.com/uapi/pay"
                            }
                        },
                        "description": "Links"
                    },
                    "Meta": {
                        "required": [
                            "totalPages"
                        ],
                        "type": "object",
                        "properties": {
                            "totalPages": {
                                "type": "integer",
                                "format": "int32"
                            }
                        }
                    }
                }
            },
            "CaptureRequestDTO": {
                "type": "object",
                "properties": {
                    "captureUid": {
                        "pattern": "^[0-9a-zA-Z-]{1,64}$",
                        "type": "string",
                        "description": "Идентификатор подтверждения платежа в информационной системе ТСП",
                        "example": "8H7GSEE7018GC67"
                    },
                    "amount": {
                        "$ref": "#/components/schemas/MoneyDTO"
                    },
                    "callbackUrl": {
                        "maxLength": 2083,
                        "minLength": 1,
                        "pattern": "^https?://[-a-zA-Z0-9¡-￿+&@#/%?=~_|!:,.;]*[-a-zA-Z0-9¡-￿+&@#/%=~_|]",
                        "type": "string",
                        "description": "URL отправки уведомления об операции",
                        "example": "https://test.tochkapay.com/notification"
                    },
                    "comment": {
                        "maxLength": 255,
                        "minLength": 1,
                        "type": "string",
                        "description": "Комментарий"
                    }
                }
            },
            "WrappedRequestDTOCaptureRequestDTO": {
                "required": [
                    "Data"
                ],
                "type": "object",
                "properties": {
                    "Data": {
                        "$ref": "#/components/schemas/CaptureRequestDTO"
                    }
                }
            },
            "CaptureResponseDTO": {
                "type": "object",
                "properties": {
                    "Data": {
                        "required": [
                            "amount",
                            "captureUid",
                            "createdDateTime",
                            "status"
                        ],
                        "type": "object",
                        "properties": {
                            "captureUid": {
                                "pattern": "^[0-9a-zA-Z-]{1,64}$",
                                "type": "string"
                            },
                            "createdDateTime": {
                                "type": "string",
                                "format": "date-time"
                            },
                            "amount": {
                                "$ref": "#/components/schemas/MoneyDTO"
                            },
                            "status": {
                                "oneOf": [
                                    {
                                        "$ref": "#/components/schemas/Completed"
                                    },
                                    {
                                        "$ref": "#/components/schemas/Declined"
                                    },
                                    {
                                        "$ref": "#/components/schemas/Waiting"
                                    }
                                ]
                            },
                            "callbackUrl": {
                                "maxLength": 2083,
                                "minLength": 1,
                                "pattern": "^https?://[-a-zA-Z0-9¡-￿+&@#/%?=~_|!:,.;]*[-a-zA-Z0-9¡-￿+&@#/%=~_|]",
                                "type": "string",
                                "description": "URL отправки уведомления об операции",
                                "example": "https://test.tochkapay.com/notification"
                            },
                            "comment": {
                                "maxLength": 255,
                                "minLength": 1,
                                "type": "string",
                                "description": "Комментарий"
                            }
                        }
                    },
                    "Links": {
                        "required": [
                            "self"
                        ],
                        "type": "object",
                        "properties": {
                            "self": {
                                "maxLength": 2083,
                                "minLength": 1,
                                "pattern": "^https?://[-a-zA-Z0-9¡-￿+&@#/%?=~_|!:,.;]*[-a-zA-Z0-9¡-￿+&@#/%=~_|]",
                                "type": "string",
                                "example": "https://enter.tochka.com/uapi/pay"
                            }
                        },
                        "description": "Links"
                    },
                    "Meta": {
                        "required": [
                            "totalPages"
                        ],
                        "type": "object",
                        "properties": {
                            "totalPages": {
                                "type": "integer",
                                "format": "int32"
                            }
                        }
                    }
                }
            },
            "CompleteRequestDTO": {
                "required": [
                    "threeDS"
                ],
                "type": "object",
                "properties": {
                    "threeDS": {
                        "$ref": "#/components/schemas/ThreeDSCompleteRequestDTO"
                    }
                }
            },
            "ThreeDSCompleteRequestDTO": {
                "required": [
                    "paRes"
                ],
                "type": "object",
                "properties": {
                    "paRes": {
                        "maxLength": 16384,
                        "minLength": 1,
                        "type": "string",
                        "description": "Результат аутентификации покупателя, полученный после возврата с ACS банка-эмитента",
                        "example": "eJxVjDsOwjAQBe+S0SWKiXHdwMhWmCbXIpZWa+O..."
                    }
                },
                "description": "Данные для аутентификации банковских карт по протоколам 3DS и 3DS 2.0"
            },
            "WrappedRequestDTOCompleteRequestDTO": {
                "required": [
                    "Data"
                ],
                "type": "object",
                "properties": {
                    "Data": {
                        "$ref": "#/components/schemas/CompleteRequestDTO"
                    }
                }
            },
            "RefundResponseListDTO": {
                "type": "object",
                "properties": {
                    "Data": {
                        "type": "array",
                        "items": {
                            "required": [
                                "amount",
                                "createdDateTime",
                                "isReversal",
                                "refundUid",
                                "status"
                            ],
                            "type": "object",
                            "properties": {
                                "refundUid": {
                                    "pattern": "^[0-9a-zA-Z-]{1,64}$",
                                    "type": "string",
                                    "description": "Уникальный идентификатор возврата в информационной системе ТСП",
                                    "example": "8H7GSEE7018GC67"
                                },
                                "createdDateTime": {
                                    "type": "string",
                                    "description": "Дата создания операции в формате ISO8601",
                                    "format": "date-time"
                                },
                                "amount": {
                                    "$ref": "#/components/schemas/MoneyDTO"
                                },
                                "status": {
                                    "oneOf": [
                                        {
                                            "$ref": "#/components/schemas/Completed"
                                        },
                                        {
                                            "$ref": "#/components/schemas/Declined"
                                        },
                                        {
                                            "$ref": "#/components/schemas/Waiting"
                                        }
                                    ]
                                },
                                "callbackUrl": {
                                    "maxLength": 2083,
                                    "minLength": 1,
                                    "pattern": "^https?://[-a-zA-Z0-9¡-￿+&@#/%?=~_|!:,.;]*[-a-zA-Z0-9¡-￿+&@#/%=~_|]",
                                    "type": "string",
                                    "description": "URL отправки уведомления об операции",
                                    "example": "https://test.tochkapay.com/notification"
                                },
                                "comment": {
                                    "maxLength": 255,
                                    "minLength": 1,
                                    "type": "string",
                                    "description": "Дополнительное описание возврата",
                                    "example": "Возврат за услугу"
                                },
                                "refundMethodResult": {
                                    "oneOf": [
                                        {
                                            "$ref": "#/components/schemas/CardRefundMethodResultDTO"
                                        }
                                    ]
                                },
                                "isReversal": {
                                    "type": "boolean",
                                    "description": "Признак использования операции отмены"
                                }
                            }
                        }
                    },
                    "Links": {
                        "required": [
                            "self"
                        ],
                        "type": "object",
                        "properties": {
                            "self": {
                                "maxLength": 2083,
                                "minLength": 1,
                                "pattern": "^https?://[-a-zA-Z0-9¡-￿+&@#/%?=~_|!:,.;]*[-a-zA-Z0-9¡-￿+&@#/%=~_|]",
                                "type": "string",
                                "example": "https://enter.tochka.com/uapi/pay"
                            }
                        },
                        "description": "Links"
                    },
                    "Meta": {
                        "required": [
                            "totalPages"
                        ],
                        "type": "object",
                        "properties": {
                            "totalPages": {
                                "type": "integer",
                                "format": "int32"
                            }
                        }
                    }
                }
            },
            "CaptureResponseListDTO": {
                "type": "object",
                "properties": {
                    "Data": {
                        "type": "array",
                        "items": {
                            "required": [
                                "amount",
                                "captureUid",
                                "createdDateTime",
                                "status"
                            ],
                            "type": "object",
                            "properties": {
                                "captureUid": {
                                    "pattern": "^[0-9a-zA-Z-]{1,64}$",
                                    "type": "string"
                                },
                                "createdDateTime": {
                                    "type": "string",
                                    "format": "date-time"
                                },
                                "amount": {
                                    "$ref": "#/components/schemas/MoneyDTO"
                                },
                                "status": {
                                    "oneOf": [
                                        {
                                            "$ref": "#/components/schemas/Completed"
                                        },
                                        {
                                            "$ref": "#/components/schemas/Declined"
                                        },
                                        {
                                            "$ref": "#/components/schemas/Waiting"
                                        }
                                    ]
                                },
                                "callbackUrl": {
                                    "maxLength": 2083,
                                    "minLength": 1,
                                    "pattern": "^https?://[-a-zA-Z0-9¡-￿+&@#/%?=~_|!:,.;]*[-a-zA-Z0-9¡-￿+&@#/%=~_|]",
                                    "type": "string",
                                    "description": "URL отправки уведомления об операции",
                                    "example": "https://test.tochkapay.com/notification"
                                },
                                "comment": {
                                    "maxLength": 255,
                                    "minLength": 1,
                                    "type": "string",
                                    "description": "Комментарий"
                                }
                            }
                        }
                    },
                    "Links": {
                        "required": [
                            "self"
                        ],
                        "type": "object",
                        "properties": {
                            "self": {
                                "maxLength": 2083,
                                "minLength": 1,
                                "pattern": "^https?://[-a-zA-Z0-9¡-￿+&@#/%?=~_|!:,.;]*[-a-zA-Z0-9¡-￿+&@#/%=~_|]",
                                "type": "string",
                                "example": "https://enter.tochka.com/uapi/pay"
                            }
                        },
                        "description": "Links"
                    },
                    "Meta": {
                        "required": [
                            "totalPages"
                        ],
                        "type": "object",
                        "properties": {
                            "totalPages": {
                                "type": "integer",
                                "format": "int32"
                            }
                        }
                    }
                }
            },
            "ErrorDetailsDTO": {
                "required": [
                    "errorCode",
                    "message",
                    "url"
                ],
                "type": "object",
                "properties": {
                    "errorCode": {
                        "maxLength": 200,
                        "minLength": 1,
                        "type": "string",
                        "description": "Низкоуровневое текстовое описание ошибки",
                        "example": "HTTPBadRequest"
                    },
                    "message": {
                        "maxLength": 603,
                        "minLength": 1,
                        "type": "string",
                        "description": "Описание ошибки. Обрезается если длина ошибки превышает максимальное значение",
                        "example": "Something going wrong"
                    },
                    "url": {
                        "maxLength": 2083,
                        "minLength": 1,
                        "pattern": "^https?://[-a-zA-Z0-9¡-￿+&@#/%?=~_|!:,.;]*[-a-zA-Z0-9¡-￿+&@#/%=~_|]",
                        "type": "string",
                        "description": "URL для помощи в устранении проблемы",
                        "example": "http://enter.tochka.com/open-banking/docs"
                    }
                },
                "description": "Описание ошибки валидации конкретного поля"
            },
            "ErrorResponseDTO": {
                "required": [
                    "Errors",
                    "code",
                    "id",
                    "message"
                ],
                "type": "object",
                "properties": {
                    "code": {
                        "maxLength": 40,
                        "minLength": 1,
                        "type": "string",
                        "description": "Высокоуровневый текстовый код ошибки, необходимый для классификации",
                        "example": "400"
                    },
                    "id": {
                        "maxLength": 40,
                        "minLength": 1,
                        "type": "string",
                        "description": "Уникальный идентификатор ошибки, для целей аудита",
                        "example": "c397b21a-d998-4c4d-9471-e60eaf816b87"
                    },
                    "message": {
                        "maxLength": 600,
                        "minLength": 1,
                        "type": "string",
                        "description": "Краткое сообщение об ошибке",
                        "example": "Что-то пошло не так"
                    },
                    "Errors": {
                        "type": "array",
                        "description": "Описание ошибки валидации конкретного поля",
                        "items": {
                            "$ref": "#/components/schemas/ErrorDetailsDTO"
                        }
                    }
                }
            }
        },
        "parameters": {
            "siteUid": {
                "name": "siteUid",
                "in": "path",
                "description": "ID Сайта",
                "required": true,
                "schema": {
                    "pattern": "^[0-9a-zA-Z-_]{1,64}",
                    "type": "string"
                },
                "example": "tochka-site-00"
            },
            "paymentUid": {
                "name": "paymentUid",
                "in": "path",
                "description": "Уникальный идентификатор платежа в информационной системе ТСП",
                "required": true,
                "schema": {
                    "pattern": "^[0-9a-zA-Z-]{1,64}$",
                    "type": "string"
                },
                "example": "977639EE70494C67"
            },
            "captureUid": {
                "name": "captureUid",
                "in": "path",
                "description": "Идентификатор подтверждения платежа в информационной системе ТСП",
                "required": true,
                "schema": {
                    "pattern": "^[0-9a-zA-Z-]{1,64}$",
                    "type": "string"
                },
                "example": "8H7GSEE7018GC67"
            },
            "refundUid": {
                "name": "refundUid",
                "in": "path",
                "description": "Идентификатор возврата в информационной системе ТСП",
                "required": true,
                "schema": {
                    "pattern": "^[0-9a-zA-Z-]{1,64}$",
                    "type": "string"
                },
                "example": "8H7GSEE7018GC67"
            }
        }
    }
}
